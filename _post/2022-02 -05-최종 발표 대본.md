---

title:  "hi!!"
excerpt: "md 파일에 마크다운 문법으로 작성하여 Github 원격 저장소에 업로드 해보자. 

categories:
  - Blog
tags:
  - [Blog, jekyll, Github, Git]

toc: true
toc_sticky: true

date: 2022-02-05
last_modified_at: 2022-02-05

---

## 22

스프링 컨테이너란 주입을 이용하여 객체를 관리하는 컨테이너입니다. 스프링 컨테이너는 빈의 생성과 관계, 사용, 생명 주기 등을 관리합니다. 그렇다면 왜 Spring 에서는 굳이 스프링 컨테이너 기능을 제공하는 것일까요? 우리는 객체를 사용하기 위해서 new 생성자를 이용하거나 getter/setter 기능을 써야만 했습니다. 한 어플리케이션에는 이러한 객체가 무수히 많이 존재하고 서로 참조하고 있을 것인데 그 정도가 심할 수록 의존성이 높다고 표현을 해요. 객체지향프로그래밍을 하기 위해서는 높은 의존성을 가지고 있는 설계 구조 및 코드는 좋지 좋지 않거든요. 그렇기 때문에 의존성 제어. 즉 객체 간의 의존성을 낮추기 위해 바로 Spring 컨테이너가 사용됩니다.

# 23

스프링 컨테이너를 언급할때는 BeanFactory와 ApplicationContext에 2가지로 나뉩니다.  Bean Facotry란 스프링 컨테이너의 최상위 인터페이스입니다. 스프링 빈을 관리하고 조회하는 역할을 담당합니다. 컨테이너에서 빈을 조회하는 getBean() 메서드도 BeanFactory인터페이스의 메서드입니다. 

ApplicationContext는 BeanFactory기능을 모두 상속받아서 제공합니다. 그럼 이런 의문이 드실 수 있습니다. 빈을 관리하고 검색하는 기능을 BeanFactory가 제공해주는데, 둘의 차이는 뭘까? 애플리케이션을 개발할 때는 빈은 관리하고 조회하는 기능은 물론이고, 수많은 부가기능이 필요합니다. 부가기능에 대해 그림의 왼쪽부터 설명을 드릴게요.

MessagingSource 인터페이스를 상속해 메시지 소스를 활용한 국제화 기능을 해줍니다. 소프트웨어가 언어에 종속적이지 않고 한국어든 영어든 동시에 입력해서 사용할 수 있어야 하는 것을 만족시켜줍니다. 환경 변수를 로컬, 개발, 운영등을 구분해서 처리할 수 있게 하고, 애플리케이션 이벤트를 발행하고 구독하는 모델을 편리하게 지원합니다. 그리고 파일, 클래스패스, 외부 등에서 리소스를 편리하게 조회할 수 있습니다.

# 24

스프링 컨테이너 생성 과정에 대해 설명드리겠습니다. 스프링 컨테이너는 xml을 기반으로 만들 수 있고, 어노테이션 기반의 자바 설정 클래스로 만들 수도 있습니다. 지금 예시로 그림에 있는 AppConfig를 사용한 방식이 어노테이션 기반의 자바 설정 클래스로 스프링 컨테이너를 만든 것입니다.  스프링 컨테이너를 생성할 때는 구성 정보를 지정해주어야 하는데 여기서는 AppConfig.class가 구성 정보입니다.

# 25

스프링 컨테이너는 파라미터로 넘어온 Appconfig.class 정보를 사용해서 스프링 빈을 등록을 하는데요. @Bean 어노테이션이 붙은 메서드들이 빈으로 등록이 됩니다. 빈 이름은 메서드 이름을 사용하고 빈 이름을 직접 부여할수도 있습니다. 이때 빈 이름은 항상 다른 이름을 부여해야 합니다. 같은 이름을 부여하게 되면 , 다른 빈이 무시되거나, 기존 빈을 덮어버리거나 설정에 따라서 오류가 발생할 수 있습니다.

# 26

스프링 컨테이너는 설정 정보를 참고해서 의존관계를 주입도 해주는데요. 스프링은 빈을 생성하고, 의존관계를 주입하는 단계가 원래는 나뉘어져 있어요. 하지만 이렇게 자바 코드로 스프링 빈을 등록을 하면 생성자를 호출하면서 의존관계 주입도 한번에 처리됩니다. 위 코드를 보면 orderService()는 memberRepository()와 discountPolicy()를 의존하고 있죠. 
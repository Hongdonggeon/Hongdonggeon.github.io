---
title: OSI 7계층
categories:
  - network
date: 2022-12-09


---





## 물리 계층

역할 : 컴퓨터와 네트워크 장비를 연결하고 컴퓨터와 네트워크 장비 간에 전송되는 데이터를 전기 신호로 변환하는 계층이다.

송신 측에서는 비트열 데이터를 전기 신호로 변환하고 수신 측에서는 전기 신호를 비트열 데이터로 복원한다.

**랜 카드** : 0과 1을 전기 신호로 변환해 네트워크에서 데이터를 주고받을 수 있게 한다.


<br/>

### 물리 계층에서 동작하는 네트워크 장비

- 리피터 : 통신하는 상대방이 멀리 있을 때 전기 신호를 정형하고 증폭하는 기능 

- 허브 : 포트를 여러개 가지고 있어 일대일 통신만 가능한 리피터와 달리 여러 컴퓨터와 통신할 수 있다. 전기 신호를 모든 포트로 보내서 더미 허브라고도 불린다. 이런 단점을 극복하기 위해 스위치라는 것을 사용한다.



<br/>
<br/>


## 데이터링크 계층

역할 : 네트워크 장비 간에 신호를 주고받는 규칙을 정하는, 랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층이다.

<br/>

**이더넷** : 랜에서 데이터를 정상적으로 주고 받기 위한 규칙들중 하나다. 허브와 같은 장비에 연결된 컴퓨터와 데이터를 주고받을 때 사용한다.

이더넷에서 시점을 늦추는 방법 : CSMA/CD (효율이 좋지 않아서 요즘은 사용하지 않는다고 함)

- CS : 데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지 확인한다
- MA : 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다
- CD : 충돌이 발생하고 있는지 확인한다

<br/>


**MAC 주소** : 랜카드에 부여되는 물리적인 주소 (전 세계에서 유일한 번호다.)

<br/>

데이터링크 계층에서는 **이더넷 헤더**와 **트레일러**를 붙인다. 그리고 추가된 데이터를 **프레임**이라고 한다.

![image](https://user-images.githubusercontent.com/67885363/206896992-348783a7-e290-4fc8-8766-82f2f7fdf16a.png)

- 유형 : 프로토콜 종류를 식별하는 번호
- 트레일러 : 데이터 전송 도중에 오류가 발생하는지 확인하는 용도


<br/>


### 데이터 링크 계층에서 동작하는 네트워크 장비

스위치 : 레이어 2 스위치 또는 스위칭 허브라고도 불린다.

- MAC 주소 테이블이라는 것이 있어서 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC 주소가 등록되는 데이터베이스다.

- MAC 주소 학습 기능 : 프레임이라는 데이터가 전송되면 MAC 주소 테이블을 확인하고 출발지 MAC 주소가 등록되어 있지 않으면 MAC 주소를 포트와 함께 등록한다.

- 플러딩 : 목적지 MAC 주소가 MAC 주소 테이블에 등록되어 있지 않으면 모든 포트에 데이터가 전송된다.

- MAC 주소 필터링 : MAC 주소 테이블에 등록된 MAC 주소를 기준으로 목적지를 선택하는 것

- 전이중 통신 방식을 사용한다.



<br/>
<br/>


## 네트워크 계층

역할 : 서로 다른 네트워크에 있는 목적지로 데이터를 전송하기 위해 필요하다.

<br/>

**IP 주소** : 어떤 네트워크의 어떤 컴퓨터인지 구분할 수 있도록 하는 주소

<br/>

네트워크 계층에서는 IP 헤더를 붙인다. 그리고 추가된 데이터를 **IP 패킷**이라고 한다.

![image](https://user-images.githubusercontent.com/67885363/206901171-2aecb7d4-3f72-4a19-ab77-3af124f0a0fa.png)

<br/>

### 네트워크 계층에서 동작하는 네트워크 장비

- 라우터 : 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지 알려주는 기능
- 라우팅 : 목적지 IP 주소까지 어떤 경로로 데이터를 보낼지 결정하는 것

라우팅 테이블이라는 것이 있어서 경로 정보를 등록하고 관리한다.



<br/>
<br/>


## 전송 계층

역할 : 목적지에 신뢰할 수 있는 데이터를 전달하기 위해 필요하다. 오류 점검 기능이 있어서 오류가 발생하면 데이터를 재전송하도록 요청한다. 또한 전송된 데이터의 목적지가 어떤 어플리케이션인지 식별하는 기능도 한다.

<br/>

**포트 번호** : 전송된 데이터의 목적지가 어떤 어플리케이션인지 구분하는 번호

- 0 ~ 1023 : 잘알려진 포트
- 1025번 이상은 랜덤 포트라고 하고, 클라이언트 측의 송신 포트로 사용됨

<br/>

**TCP (연결형 통신)**

- 신뢰성/정확성이 우선인 통신이라서 여러 번 확인하고 보낸다.
- 3-way 핸드셰이크 (SYN, ACK)
- 4-way 핸드셰이크 (FIN, ACK)

TCP로 전송할 때 붙이는 헤더를 TCP 헤더라고 하고 추가된 데이터를 **세그먼트**라고 한다.

![image](https://user-images.githubusercontent.com/67885363/206906538-0d87346e-eada-42ba-aa3d-e86b38f23038.png)

<br/>

**UDP (비연결형 통신)**

- 신뢰성과 정확성보다는 효율성이 우선인 통신으로 확인 절차 없이 일방적으로 보낸다. 효율성을 중요하게 여긴다.
- 브로드캐스트 송신 가능



UDP로 전송할 때 붙이는 헤더를 UDP 헤더라고 하고 추가된 데이터를 **UDP 데이터그램**이라고 한다.

![image](https://user-images.githubusercontent.com/67885363/206906863-3d6d6c64-12b0-435b-a620-e653efac55bf.png)



<br/>
<br/>


## 응용 계층

역할 : 사용자 요청을 전달하기 위해 서버가 이해할 수 있는 메시지로 변환하고 전송 계층으로 전달하는 역할을 한다. 

<br/>

### 응용 계층의 프로토콜

- HTTP
- FTP
- SMTP
- POP3
- DNS



> 참고
>
> 모두의 네트워크 (길벗)

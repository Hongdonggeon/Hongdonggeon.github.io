<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>스프링 빈 - Keep Going</title>
<meta name="description" content="스프링 빈">


  <meta name="author" content="kun">
  
  <meta property="article:author" content="kun">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Keep Going">
<meta property="og:title" content="스프링 빈">
<meta property="og:url" content="http://localhost:4000/spring/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88/">


  <meta property="og:description" content="스프링 빈">







  <meta property="article:published_time" content="2022-06-19T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/spring/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Keep Going Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Keep Going
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/">Tech</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">kun</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>돌아가면 돌아갈수록 단단해진다</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">South Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:ghd700@naver.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/Hongdonggeon" rel="nofollow noopener noreferrer me"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>
  
    <br/>
    
      

<nav class="nav__list">
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items" id="category_tag_menu">
      <!--전체 글 수-->
      <li>
            📂 <span style="font-family:'Cafe24Oneprettynight';">전체 글 수</style> <span style="font-family:'Coming Soon';">43</style> <span style="font-family:'Cafe24Oneprettynight';">개</style>
      </li>
      <li>
        <!--span 태그로 카테고리들을 크게 분류 ex) C/C++/C#-->
        <span class="nav__sub-title">DEV</span>
            <!--ul 태그로 같은 카테고리들 모아둔 페이지들 나열-->
            <ul>
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/cpp 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시-->
                
                    
                        <li><a href="/categories/java" class="">java (16)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                        <li><a href="/categories/spring" class="">spring (8)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/test" class="">test (4)</a></li>
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/checkmate" class="">checkmate (4)</a></li>
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/infra" class="">infra (2)</a></li>
                    
                
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
            <ul>
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/jpa" class="">jpa (3)</a></li>
                    
                
                    
                
                    
                
                    
                
            </ul>
      </li>
  </ul>
</nav>
    
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="스프링 빈">
    <meta itemprop="description" content="스프링 빈">
    <meta itemprop="datePublished" content="2022-06-19T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/spring/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88/" class="u-url" itemprop="url">스프링 빈
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#스프링-빈">스프링 빈</a></li><li><a href="#스프링-빈-등록하기">스프링 빈 등록하기</a><ul><li><a href="#자바-설정-파일">자바 설정 파일</a></li><li><a href="#컴포넌트-스캔">컴포넌트 스캔</a></li></ul></li><li><a href="#자동-빈-등록-vs-수동-빈-등록">자동 빈 등록 vs 수동 빈 등록</a></li><li><a href="#빈-중복-등록">빈 중복 등록</a></li><li><a href="#빈-생명주기-콜백">빈 생명주기 콜백</a><ul><li><a href="#스프링이-지원하는-빈-생명주기-콜백-방법-3가지">스프링이 지원하는 빈 생명주기 콜백 방법 3가지</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <h3 id="스프링-빈">스프링 빈</h3>

<p>스프링 컨테이너에서 관리하는 자바 객체를 스프링 빈이라고 한다.
조금 더 자세하게 설명하자면, 기존에 Java 프로그램에서는 객체를 생성할 때 우리가 직접  <code class="language-plaintext highlighter-rouge">new 생성자</code>를 입력해 객체를 생성하였지만,  우리가 직접 객체를 생성하는 것이 아닌 Spring에 의해 생성되고 관리되는 자바 객체를 스프링 빈이라고 한다.</p>

<p>그럼 스프링 컨테이너에는 빈을 등록하는 방법들에 대해 알아보자.</p>

<p><br /></p>

<h3 id="스프링-빈-등록하기">스프링 빈 등록하기</h3>

<p>스프링 빈을 스프링 컨테이너에 등록하는 방법으로는 여러가지 방법들이 존재한다. 그 중 대표적으로 가장 자주 사용하는 자바 설정 파일을 이용하는 방법과 컴포넌트 스캔을 이용하는 방법에 대해 소개해보겠다.</p>

<p><br /></p>

<h4 id="자바-설정-파일">자바 설정 파일</h4>

<p>@Configuration과 @Bean 어노테이션을 이용하여 Bean을 등록하는 방법이다.
스프링 컨테이너는 @Configuration이 붙은 클래스를 설정 정보로 사용한다. 이 클래스에 정의된 @Bean이 붙은 메서드를 모두 호출해서 반환된 객체를 스프링 컨테이너에 등록한다.</p>

<p><img width="672" alt="image" src="https://user-images.githubusercontent.com/67885363/176006223-03bc2618-4606-4676-8edc-96cfe2e629dd.png" /></p>

<ul>
  <li>스프링 컨테이서 생성 및 설정 파일 등록</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ApplicationContext</span> <span class="n">applicationContext</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="nc">AppConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div></div>

<p><img width="1140" alt="image" src="https://user-images.githubusercontent.com/67885363/176006750-315b21b5-34bb-4bbc-8c1a-637ce7a94f59.png" /></p>

<p>5개의 빈이 등록된 것을 확인할 수 있다.</p>

<p>빈 이름은 <code class="language-plaintext highlighter-rouge">@Bean(name="xxxxx")</code>와 같이 name 속성을 사용해서 직접 부여할수 있고 기본 값은 메서드 명을 사용한다.
빈 이름이 중복이 되면, 예외가 발생할수도 있고 중복된 빈이 무시될 수도 있다.</p>

<p><br /></p>

<h4 id="컴포넌트-스캔">컴포넌트 스캔</h4>

<p>어플리케이션이 커져 등록해야 할 스프링 빈이 많아지게 된다면, 자바 설정 파일에 일일히 등록하기 힘들 것이다. 그래서 스프링은 설정 정보 없이 자동으로 스프링 빈을 등록할 수 있는 컴포넌트 스캔이라는 기능을 제공한다. @ComponentScan 어노테이션은 @Component가 붙은 모든 클래스를 스프링 빈으로 등록한다.</p>

<p><img width="698" alt="image" src="https://user-images.githubusercontent.com/67885363/176011611-4724bfb6-4e36-4a08-b80c-2884bbc9ce2b.png" /></p>

<p>스프링 빈의 기본 이름은 클래스명을 사용하되 맨 앞글자만 소문자를 사용한다. 위 클래스의 빈 이름은 memberServiceImpl이 된다. 빈 이름을 직접 지정하기 위해서는  <code class="language-plaintext highlighter-rouge">@Component("xxxxx")</code>와 같이 지정할 수 있다.</p>

<p>@ComponentScan 어노테이션은 여러가지 속성들을 사용하여 스캔 옵션을 지정할 수 있다.</p>

<ul>
  <li>탐색 패키지 시작 지점 지정하기</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ComponentScan</span><span class="o">(</span>
        <span class="n">basePackages</span> <span class="o">=</span> <span class="s">"hello.core"</span>
<span class="o">)</span>
</code></pre></div></div>

<p>basePackages 는 탐색할 패키지의 시작 위치를 지정한다. 선언한 패키지를 포함해서 하위 패키지를 모두 탐색하고 basePackages를 여러 시작 위치를 지정할 수도 있다.</p>

<ul>
  <li>컴포넌스 스캔 대상 필터링하기</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@ComponentScan</span><span class="o">(</span>
            <span class="n">includeFilters</span> <span class="o">=</span> <span class="nd">@Filter</span><span class="o">(</span><span class="n">type</span> <span class="o">=</span> <span class="nc">FilterType</span><span class="o">.</span><span class="na">ANNOTATION</span><span class="o">,</span> <span class="n">classes</span> <span class="o">=</span> <span class="nc">MyIncludeComponent</span><span class="o">.</span><span class="na">class</span><span class="o">),</span>
            <span class="n">excludeFilters</span> <span class="o">=</span> <span class="nd">@Filter</span><span class="o">(</span><span class="n">type</span> <span class="o">=</span> <span class="nc">FilterType</span><span class="o">.</span><span class="na">ANNOTATION</span><span class="o">,</span> <span class="n">classes</span> <span class="o">=</span> <span class="nc">MyExcludeComponent</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="o">)</span>
</code></pre></div></div>

<p>includeFilters는 탐색 지점부터 컴포넌트 스캔 대상에 존재하지 않은 파일을 추가로 지정할 수 있고 excludeFilters는 컴포넌트 스캔에서 제외할 대상을 지정한다.</p>

<p><br /></p>

<h3 id="자동-빈-등록-vs-수동-빈-등록">자동 빈 등록 vs 수동 빈 등록</h3>

<p>스프링 MVC의 @Controller, @Service, @Repository 어노테이션에도 @Component가 포함되어 있고, 우리는 자동 빈 등록을 한다.</p>

<p>그렇다면 수동 빈 등록은 언제 사용하면 좋을까?</p>

<p>어플리케이션은 크게 업무 로직과 기술 지원 로직으로 나눌 수 있는데 기술 지원 빈을 등록할 때 사용하면 좋을 것 같다.
일단 업무 로직 빈과 기술 지원 빈에 대해 알아보자.</p>

<ul>
  <li>업무 로직 빈 : 웹을 지원하는 컨트롤러, 핵심 비즈니스 로직이 있는 서비스, 데이터 계층의 로직을 처리하는 레포지토리등이 업무 로직이다. 보통 비즈니스 요구사항을 개발할 때 추가되거나 변경된다.</li>
  <li>기술 지원 빈 : 기술적인 문제나 공통 관심사를 처리할 때 주로 사용된다. 데이터베이스 연결이나, 공통 로그 처리 업무 로직을 지원하기 위한 하부 기술이나 공통 기술들이다.</li>
</ul>

<p>업무 로직은 숫자도 매우 많고, 한번 개발해야 하면 컨트롤러, 서비스, 리포지토리 처럼 어느정도 유사한 패턴이 있다. 이런 경우 자동 기능을 적극 사용하는 것이 좋다. 보통 문제가 발생해도 어떤 곳에서 문제가 발생했는지 명확하게 파악하기 쉽다.</p>

<p>기술 지원 로직은 업무 로직과 비교해서 그 수가 매우 적고, 보통 어플리케이션 전반에 걸쳐서 광범위하게 영향을 미친다. 그리고 업무 로직은 문제가 발생했을 대 어디가 문제인지 잘 들어나지만, 기술 지원 로직은 적용이 잘되고 있는지 아닌지 조차 파악하기 어려운 경우가 많다. 그래서 이런 기술 지원 로직들은 가급적 수동 빈 등록을 사용해서 명확하게 들어내는 것이 좋다.</p>

<p>하지만 비즈니스 로직 중에서 다형성을 활용할 때는 자동 빈 등록보다 수동 빈 등록으로 하는 것이 가독성에 좋을 수도 있다.</p>

<p><br /></p>

<h3 id="빈-중복-등록">빈 중복 등록</h3>

<p>빈을 중복 등록되면 예외가 발생하는 경우도 있고 중복된 빈이 무시되는 경우도 존재하는데 세 가지 상황에 대해 살펴보자.</p>

<ul>
  <li>수동 빈 등록 vs 수동 빈 등록</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppConfig</span> <span class="o">{</span>

    <span class="nd">@Bean</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"memberService"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">DiscountPolicy</span> <span class="nf">discountPolicy</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">RateDiscountPolicy</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">MemberService</span> <span class="nf">memberService</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MemberServiceImpl</span><span class="o">(</span><span class="n">memberRepository</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">MemberRepository</span> <span class="nf">memberRepository</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MemoryMemberRepository</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>위 설정 파일을 컨테이너에 등록하면 어떻게 될까?</p>

<p><img width="1164" alt="image" src="https://user-images.githubusercontent.com/67885363/176017647-5ea68b63-a6f3-4180-a223-c4ab05e827a4.png" /></p>

<p>1번째, 2번째 빈의 이름이 memberService로 중복이 되었다. 예외는 발생하지 않고 둘 중 하나만 빈으로 등록이 되었다. 결과는2번째 선언한 빈이 무시가 되었다. memberService의 빈 타입을 출력해보니 첫번째 선언한 빈의 타입과 일치하다.</p>

<p>1번째와 2번째 메서드 순서를 바꿔보니 결과가 바뀌었다.<img width="1164" alt="image" src="https://user-images.githubusercontent.com/67885363/176018238-a226afd9-430c-47b3-9644-a590a011d9d9.png" /></p>

<p>수동 빈 등록을 할 때 빈 이름이 충돌하게 되면 가장 먼저 등록된 빈 이외에는 무시되는 것을 확인할 수 있다.</p>

<p><br /></p>

<ul>
  <li>자동 빈 등록 vs 자동 빈 등록</li>
</ul>

<p>컴포넌트 스캔에 의해 자동으로 스프링 빈이 등록될 때, 이름이 같은 경우에 ConflictingBeanDefinitionException이 발생한다.</p>

<p><img width="1000" alt="image" src="https://user-images.githubusercontent.com/67885363/176019040-2849295c-0d0a-494d-8628-8edf37962966.png" /></p>

<p><br /></p>

<ul>
  <li>수동 빈 등록 vs 자동 빈 등록</li>
</ul>

<p>이 경우에는 수동 빈 등록이 우선권을 가진다. 수동 빈 등록이 자동 빈을 오버라이딩 해버린다.</p>

<p><img width="1000" alt="image" src="https://user-images.githubusercontent.com/67885363/176020449-6b6471ad-854b-4d5e-8d31-e56619d1ff75.png" /></p>

<p>개발자가 의도적으로 이런 결과를 기대한 것이라면 좋지만 보통 여러 설정들이 꼬여서 이런 결과가 만들어진다고 한다. 예외가 발생하지 않는 예외상황은 정말 잡기 어려운 버그가 된다. 그래서 최근 스프링 부트에서는 수동 빈 등록과 자동 빈 등록이 충돌나면 오류가 발생하도록 기본 값을 변경했다고 한다.</p>

<p>만약 수동 빈 등록이 자동 빈 등록을 오버라이딩하는 것을 허용하게 설정을 바꾸고 싶다면 application.properties에서 <code class="language-plaintext highlighter-rouge">spring.main.allow-bean-definition-overriding=true</code>을 작성하면 된다.</p>

<p><br /><br /></p>

<h3 id="빈-생명주기-콜백">빈 생명주기 콜백</h3>

<p>스프링 빈은 객체를 생성하고, 의존관계 주입이 다 끝난 다음에야 필요한 데이터를 사용할 수 있는 준비가 완료된다.
따라서 초기화 작업은 의존관계 주입이 모두 완료되고 난 다음에 호출해야 한다.
그런데 개발자가 의존관계 주입이 모두 완료된 시점을 알 수 없으니, 스프링은 의존관계 주입이 완료되면 스프링 빈에게 콜백 메서드를 통해 초기화 시점을 알려주는 다양한 기능을 제공한다. 또한 스프링은 컨테이너가 종료되기 직전에 소멸 콜백을 준다.</p>

<p><strong>스프링 빈의 이벤트 라이프 사이클</strong></p>

<ul>
  <li>스프링 컨테이너 생성</li>
  <li>스프링 빈 생성</li>
  <li>의존관계 주입</li>
  <li>초기화 콜백</li>
  <li>사용</li>
  <li>소멸전 콜백</li>
  <li>스프링 종료</li>
</ul>

<h4 id="스프링이-지원하는-빈-생명주기-콜백-방법-3가지">스프링이 지원하는 빈 생명주기 콜백 방법 3가지</h4>

<p><strong>InitializingBean, DisposableBean</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NetworkClient</span> <span class="kd">implements</span> <span class="nc">InitializingBean</span><span class="o">,</span> <span class="nc">DisposableBean</span> <span class="o">{</span>
    <span class="o">...</span>
      
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">afterPropertiesSet</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">connect</span><span class="o">();</span>
        <span class="n">call</span><span class="o">(</span><span class="s">"초기화 메시지"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">destroy</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">disconnect</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>스프링 전용 인터페이스이므로 스프링에 의존적이다.</li>
  <li>코드를 고칠 수 없는 외부 라이브러리에 적용할 수 없다.</li>
</ul>

<p><br /></p>

<p><strong>설정 정보에 빈 등록시 초기화 메서드, 종료 메서드 지정</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Configuration</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">LifeCycleConfig</span> <span class="o">{</span>

        <span class="nd">@Bean</span><span class="o">(</span><span class="n">initMethod</span> <span class="o">=</span> <span class="s">"init"</span><span class="o">,</span> <span class="n">destroyMethod</span> <span class="o">=</span> <span class="s">"close"</span><span class="o">)</span>
        <span class="kd">public</span> <span class="nc">NetworkClient</span> <span class="nf">networkClient</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">NetworkClient</span> <span class="n">networkClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NetworkClient</span><span class="o">();</span>
            <span class="n">networkClient</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://hello-spring.dev"</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">networkClient</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NetworkClient</span> <span class="o">{</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">connect</span><span class="o">();</span>
        <span class="n">call</span><span class="o">(</span><span class="s">"초기화 메시지"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">disconnect</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>@Bean의 destoryMethod 속성에는 메서드 추론 기능이 있다. 라이브러리에서는 대부분 close, shutdown이라는 종료 메서드를 사용한다.
추론 기능은 @Bean에 destoryMethod를 명시하지 않아도 close, shutdown라는 이름의 메서드를 자동으로 호출해준다.</p>

<p>추론 기능을 사용하기 싫으면 detstoryMethod=”“처럼 빈 공백을 지정하면 된다.</p>

<p><br /></p>

<p><strong>@PostConstruct, PreDestroy 어노테이션 지원</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NetworkClient</span> <span class="o">{</span>
	 <span class="nd">@PostConstruct</span>
	 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
			<span class="n">connect</span><span class="o">();</span>
	    <span class="n">call</span><span class="o">(</span><span class="s">"초기화 연결 메시지"</span><span class="o">);</span>
	 <span class="o">}</span>
	 
   <span class="nd">@PreDestroy</span>
	 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="o">{</span>
     <span class="n">disConnect</span><span class="o">();</span>
	 <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>위 어노테이션들의 패키지를 잘 보면 javax.annotation이다.
스프링에 종속적인 기술이 아니라 JSR-250 라는 자바 표준이다. 따라서 스프링이 아닌 다른 컨테이너에서도 동작한다.</p>

<p>또한 어노테이션 하나만 붙이면 되므로 매우 편리하다.</p>

<p><br />
<br /></p>

<blockquote>
  <p>참고 <br />
스프링 핵심 원리 - 기본편 (김영한 님)
토비의 스프링 - vol.1 (이일민 님)</p>
</blockquote>


        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#spring" class="page__taxonomy-item p-category" rel="tag">spring</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-06-19T00:00:00+09:00">June 19, 2022</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%EC%8A%A4%ED%94%84%EB%A7%81+%EB%B9%88%20http%3A%2F%2Flocalhost%3A4000%2Fspring%2F%25EC%258A%25A4%25ED%2594%2584%25EB%25A7%2581-%25EB%25B9%2588%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fspring%2F%25EC%258A%25A4%25ED%2594%2584%25EB%25A7%2581-%25EB%25B9%2588%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fspring%2F%25EC%258A%25A4%25ED%2594%2584%25EB%25A7%2581-%25EB%25B9%2588%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/spring/MVC-%EA%B5%AC%EC%A1%B0/" class="pagination--pager" title="MVC 구조
">Previous</a>
    
    
      <a href="/jpa/%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%9D%98-%ED%8A%B9%EC%A7%95/" class="pagination--pager" title="영속성 컨텍스트의 특징
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You may also enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EC%BF%BC%EB%A6%AC-%EA%B0%9C%EC%84%A0%EA%B8%B0-(2)/" rel="permalink">쿼리 개선기 (2)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EC%9D%B8%EC%A6%9D%EB%B2%88%ED%98%B8%EB%A5%BC-%EB%B3%B4%EA%B4%80%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-redis-%EB%8F%84%EC%9E%85%ED%95%98%EA%B8%B0/" rel="permalink">인증번호를 보관하기 위한 redis 도입하기
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%9D%B8%EC%A6%9D-%EC%9A%94%EC%B2%AD-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0/" rel="permalink">이메일 인증 요청 비동기 처리하기
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%9D%B8%EC%A6%9D%EC%9D%84-%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B5%AC%ED%98%84%ED%95%A0%EA%B9%8C/" rel="permalink">이메일 인증을 어떻게 구현할까
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Keep Going. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
